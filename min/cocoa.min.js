function redrawPolygonByMove(e,t,a,i,n,r){var o,l,s,c,d,u,p;o=a.components[0],o.x=t.x+n/2*Math.cos(r),o.y=t.y+n/2*Math.sin(r),o.clearBounds(),l=a.components[1],l.x=t.x-n/2*Math.cos(r),l.y=t.y-n/2*Math.sin(r),l.clearBounds(),d=a.components[2],d.x=t.x+2*i/3*Math.cos(e)-n/2*Math.cos(r),d.y=t.y+2*i/3*Math.sin(e)-n/2*Math.sin(r),d.clearBounds(),u=a.components[3],u.x=t.x+2*i/3*Math.cos(e)-n/2*3*Math.cos(r),u.y=t.y+2*i/3*Math.sin(e)-n/2*3*Math.sin(r),d.clearBounds(),p=a.components[4],p.x=t.x+i*Math.cos(e),p.y=t.y+i*Math.sin(e),p.clearBounds(),c=a.components[5],c.x=t.x+2*i/3*Math.cos(e)+n/2*3*Math.cos(r),c.y=t.y+2*i/3*Math.sin(e)+n/2*3*Math.sin(r),c.clearBounds(),s=a.components[6],s.x=t.x+2*i/3*Math.cos(e)+n/2*Math.cos(r),s.y=t.y+2*i/3*Math.sin(e)+n/2*Math.sin(r),s.clearBounds()}function initToolBar(e){function t(e){var t=e.value;if(console.info(e),T(e.value).inArray(n)){mapComp.clearHander();var a="none",i="245px";if("selected"===e.status){a="block",i="304px";var l=colorComp.getResultJson();"polygon"===t?mapComp.drawPolygon(l.size,l.color):"regularPolygon"===t?mapComp.drawRegularPolygon(l.size,l.color):"arrowPolygon"===t?mapComp.drawArrowPolygon(l.size,l.color):"dynamicLine"===t?mapComp.drawPath(l.size,l.color,"dynamicLine"):"staticLine"===t?mapComp.drawPath(l.size,l.color,"staticLine"):"marker"===t&&mapComp.drawPoint(l.size,l.color)}o&&mapComp.changPenModel(o),A.style.marginLeft=i,p.style.display=a,console.info(colorComp.getResultJson())}else if("document"===e.value){var s="none";"selected"===e.status&&(s="block"),A.style.display=s,console.info(r)}else if("undo"===e.value)mapComp.removeLasFeature();else if("pen"===e.value){var c=!1;"selected"===e.status&&(c=!0),o=c,mapComp.changPenModel(c)}}function a(e){mapComp.setLayerPro(e.size,e.color),console.info(e)}function i(e){function t(e){r=e.value,console.info(e)}console.info(e),r=e.id;var a={cite:"请选择预案",id:"case",defaultCheck:"1",list:[{text:"预案A",value:"001"},{text:"预案B",value:"002"},{text:"预案C",value:"003"},{text:"预案D",value:"004"}]};g&&T(g).remove(),g=selectComp.init("150","32",a,t),T(g).appendTo(u)}var n=["marker","dynamicLine","text","arrowPolygon","regularPolygon","polygon","staticLine"],r="",o=null,l={name:"阳春县",code:"440000",type:"town"},s=cityComp.init(l,i),c=drawComp.init(n,t),d=docComp.init(["document"],t),u=controlComp.init(["pen","undo","add","delete","save"],t),p=colorComp.init(a),A=docComp.createList();A.style.display="none",p.setAttribute("class","toolBarColor"),p.style.display="none";var h=T().groupComps([s,c,d,u]),m=T().groupComps([h,p,A]);h.setAttribute("class","toolBarDiv"),m.setAttribute("class","toolBarPosition"),document.body.appendChild(m);var g=null}function showTargetMessage(){loadTargetMsg(),msgTrackEvent()}function loadTargetMsg(){var e={title:"影响区域：",list:""},t="http://127.0.0.1:8080/dss-data/gisInfo/gis-info!getTownListByGemotry.action?geomtry="+lastPolygonVertices;$.ajax({type:"GET",url:t,success:function(t){e.list=t,T().clearCompsById(["yjddDiv"]),targetMsgComp.init("yjddDiv",["短信","大喇叭"],"其他",e)}})}function msgTrackEvent(){$("#msgMinMax").unbind(),$("#msgMaxClose").unbind(),$("#msgMinClose").unbind(),$("#msgMinMax").click(function(){T().clearCompsById(["trackMin"]),$("#msgMin").hide(),$("#msgMax").show(),targetTrackComp.initMax("trackMax")}),$("#msgMaxClose").click(function(){T().clearCompsById(["tragetType","tragetKind","tragetChose"]),$("#msgMax").hide(),targetTrackComp.clearTrackInterval()}),$("#msgMinClose").click(function(){T().clearCompsById(["trackMin"]),$("#msgMin").hide(),targetTrackComp.clearTrackInterval()}),mouse4MoveRainWindow("msgMaxTitle","msgMax")}var buttonComp={init:function(e,t,a){var i=T().CDE("div");T(i).setClass(t);var n=e.list;for(var r in n){var o=T().CDE("button");o.setAttribute("value",n[r].value),o.innerHTML=n[r].text,i.appendChild(o)}return a&&T(i).click(function(e){return a(T(e).getEventTarget(e).attributes.value.value)}),i}},checkBoxComp={init:function(e,t){var a=T().CDE("div");a.setAttribute("class","marTpad");var i=e.list,n=[];if("undefined"!=typeof e.defaultChecked&&(n=e.defaultChecked),"undefined"!=typeof e.title){var r=T().CDE("label");r.setAttribute("class","marR10"),r.innerHTML=e.title,a.appendChild(r)}var o=[],l=[];for(var s in i){var c=T().CDE("input");if(-1!==n.indexOf(i[s].value)){c.setAttribute("checked","checked"),c.setAttribute("status","selected");var d=new Object({});d.value=i[s].value,d.text=i[s].text,o.push(d),l.push(c)}else c.setAttribute("status","");c.setAttribute("type","checkbox"),c.setAttribute("value",i[s].value),c.setAttribute("text",i[s].text);var u=document.createElement("span");u.setAttribute("class","marR10"),u.innerHTML=i[s].text,a.appendChild(c),a.appendChild(u)}this.defaultSelect=l,T(a).click(function(e){var i=(T(e).getEventTarget(),cIobj.nodeName),n="",r="",o=!0,l=null,s=null;if("INPUT"===i){var c=cIobj.attributes.status;l=cIobj,"selected"===c.value?(c.value="",o=!1):c.value="selected","undefined"!=typeof l.attributes.blindComp&&(s=l.attributes.blindComp),n=cIobj.attributes.value.value,r=cIobj.attributes.text.value;var d=[],u=a.children;for(var p in u)if("INPUT"===u[p].nodeName&&"selected"===u[p].attributes.status.value){var A=new Object({}),h=u[p].attributes.value.value,m=u[p].attributes.text.value;A.id=h+m,A.value=h,A.text=m,A.obj=l,A.blindComp=s,d.push(A)}var g={checkBox:d};if(a.attributes.tempdatas=g,t){var y={};return y.id=n+r,y.value=n,y.text=r,y.obj=l,y.blindComp=s,y.checked=o,t(y)}}});var p={checkBox:o};return a.attributes.tempdatas=p,this.boxDiv=a,a},blindTo:function(e,t){for(var a=this.boxDiv.getElementsByTagName("input"),i=a.length-1;i>=0;i--)if(a[i].getAttribute("value")===t){a[i].attributes.blindComp=e;break}}};!function(){var e=window.T=function(t){return e.fn.init(t)};e.fn=e.prototype={elem:"",init:function(e){return this.elem=e,this},mousemove:function(t){return this.coEvent("mousemove",t),e.fn},mousedown:function(t){return this.coEvent("mousedown",t),e.fn},mouseup:function(t){return this.coEvent("mouseup",t),e.fn},mouseout:function(t){return this.coEvent("mouseout",t),e.fn},mouseover:function(t){return this.coEvent("mouseover",t),e.fn},click:function(e){this.coEvent("click",e)},coEvent:function(e,t){this.elem.addEventListener?this.elem.addEventListener(e,function(e){return t(e)},!1):this.elem.attachEvent&&this.elem.attachEvent("on"+e,function(e){return t(e)})},appendTo:function(t){e.fn.insertAdjacentElement(this.elem,"afterend",t)},insertTo:function(t){if(t.attributes.mulComp=!0,"undefined"!=typeof t.attributes.compList){var a=t.attributes.compList;-1===a.indexOf(this.elem)&&a.push(this.elem)}else{var i=[];i.push(this.elem),t.attributes.compList=i}e.fn.insertAdjacentElement(this.elem,"beforeend",t)},remove:function(){this.elem.parentNode.removeChild(this.elem)},insertAdjacentElement:function(e,t,a){"beforebegin"===t?a.parentNode.insertBefore(e,a):"afterbegin"===t?a.insertBefore(e,a.firstChild):"beforeend"===t?a.appendChild(e):"afterend"===t&&(a.nextSibling?a.parentNode.insertBefore(e,a.nextSibling):a.parentNode.appendChild(e))},getEventTarget:function(){var e=this.elem;return e=e?e:window.tempEle,e.srcElement?e.srcElement:e.target},CDE:function(e){return document.createElement(e)},setClass:function(e){this.elem.setAttribute("class",e)},CAT:function(){return this.elem.attributes},groupComps:function(e){var t=document.createElement("div"),a=document.createDocumentFragment();for(var i in e)a.appendChild(e[i]);return t.appendChild(a),t},addComps:function(t,a,i,n){var r=document.getElementById(this.elem),o=e().CDE("div"),l=document.createDocumentFragment();for(var s in t)t[s].hidden=!1,l.appendChild(t[s]);if(t.length>1?(o.appendChild(l),r.appendChild(o)):r.appendChild(l),a){var c=r.children[0].childNodes;e(a).click(function(t){var r=e(t).getEventTarget().attributes.value.value;if(""!==i&&null!==i)if(r===i){var o={};for(var l in c)if(c[l]!==a&&"length"!==l&&"item"!==l&&"undefined"!=typeof c[l].attributes){if("undefined"!=typeof c[l].attributes.mulComp){var s=c[l].attributes.compList;for(var d in s){var u=s[d].attributes.tempdatas;for(var p in u)o[p]=u[p]}}var A=c[l].attributes.tempdatas;for(var h in A)o[h]=A[h]}if(n)return n(o)}else if(n)return n(r)})}},compRecord:function(e,t){if("undefined"!=typeof this.elem){var a=this.elem;a[e]=t,this.elem=a}else{var i={};i[e]=t,this.elem=i}return this.elem},clearCompsById:function(e){if(e instanceof Array)for(var t in e){var a=document.getElementById(e[t]).childNodes[0];if("undefined"!=typeof a){for(var i=a.childNodes,n=i.length-1;n>=0;n--)i[n].hidden=!0;document.getElementById(e[t]).removeChild(a)}}else if("undefined"!=typeof document.getElementById(e).childNodes[0])for(var r=document.getElementById(e).childNodes[0].childNodes,o=r.length-1;o>=0;o--)r[o].hidden=!0,document.getElementById(e).removeChild(r[o])},getCompsDataById:function(t,a){var i=this.elem;t&&e(t).click(function(e){var n=[];for(var r in i)if("undefined"!=typeof document.getElementById(i[r]).children[0]){var o=document.getElementById(i[r]).children[0].childNodes[0];n.push(o)}var l={};for(var s in n)if(n[s]!==t&&"length"!==s&&"item"!==s&&null!==n[s]){var c=n[s].attributes.tempdatas;for(var d in c)l[d]=c[d]}return a?a(l):void 0})},autoLoad:function(t,a,i,n){i=a>i?a:i;for(var r=document.createDocumentFragment(),o=0;a>o;o++)"undefined"!=typeof t[o]&&(r.appendChild(t[o]),o%2!==0&&(t[o].style.background="#fff"));n.appendChild(r),this.elem.appendChild(n);var l=a,s=!0;this.elem.onscroll=function(r){r=e(r).getEventTarget();var o=r.clientHeight,c=r.scrollTop,d=r.scrollHeight;if(o+c>=d&&s){var u=document.createDocumentFragment(),p=l+a;p>i&&(p=i,s=!1);for(var A=l;p>A;A++)u.appendChild(t[A]),A%2!==0&&(t[A].style.background="#fff");n.appendChild(u),l+=a}}},inArray:function(e){for(var t=this.elem,a=e.length-1;a>=0;a--)if(e[a]===t)return!0;return!1}}}(Window);var pagingComp={init:function(e,t,a){"undefined"!=typeof this.pageE&&this.pageE[e]&&T(this.pageE[e]).remove(),this.focusId=e,this.bgIndex=0,this.endIndex=a,this.pCount=a,this.currPage=1,this.allPage=(t.length-(t.length%a===0?-a:t.length%a))%a,this.arrComps=t;var i=t.length;this.compsLength=i,i%a===0?this.allPage=i/a:this.allPage=(i-i%a)/a+1,pagingComp.startPage();var n=document.getElementById(e),r=pagingComp.pageButton();if(T(r).appendTo(n),"undefined"!=typeof this.pageButton){var o=this.pageButton;o[this.focusId]=r,this.pageButton=o;var l=this.getPageComp;l[this.focusId]=n,this.getPageComp=l}else{var s={},c={};s[this.focusId]=r,c[this.focusId]=n,this.pageButton=s,this.getPageComp=c}},startPage:function(){T().clearCompsById([this.focusId]);var e=[],t=this.endIndex;t>this.compsLength&&(t=this.compsLength);for(var a=this.bgIndex;t>a;a++)this.arrComps[a].hidden=!1,e.push(this.arrComps[a]);T(this.focusId).addComps(e)},pageButton:function(){var e=document.createElement("div");e.style.display="inline-block",e.style.width="100%";var t=document.createElement("div");t.style["float"]="left",t.style.marginLeft="20px";var a=document.createElement("span");a.innerHTML="第1页/共"+this.allPage+"页 "+this.compsLength+"条记录",t.appendChild(a);var i=document.createElement("div");i.style["float"]="left",i.style["float"]="right",i.style.marginRight="20px";var n=document.createElement("span");n.innerHTML="上一页",n.style.cursor="default",n.style.color="#9d9d9d",n.style.marginRight="10px",n.onclick=function(){if(1!==pagingComp.currPage){n.style.color="black",r.style.color="black",r.style.cursor="pointer";var e=parseInt(pagingComp.bgIndex)-parseInt(pagingComp.pCount),t=parseInt(pagingComp.endIndex)-parseInt(pagingComp.pCount),i=parseInt(pagingComp.currPage)-parseInt("1");pagingComp.currPage=i,pagingComp.bgIndex=e,pagingComp.endIndex=t,pagingComp.startPage(),a.innerHTML="第"+i+"页/共"+pagingComp.allPage+"页 "+pagingComp.compsLength+"条记录",1===pagingComp.currPage&&(n.style.color="#9d9d9d",n.style.cursor="default")}else r.style.color="black"};var r=document.createElement("span");return r.innerHTML="下一页",r.style.cursor="pointer",r.onclick=function(){if(pagingComp.currPage!==pagingComp.allPage){n.style.color="black",n.style.cursor="pointer";var e=parseInt(pagingComp.bgIndex)+parseInt(pagingComp.pCount),t=parseInt(pagingComp.endIndex)+parseInt(pagingComp.pCount),i=parseInt(pagingComp.currPage)+parseInt("1");pagingComp.bgIndex=e,pagingComp.endIndex=t,pagingComp.currPage=i,pagingComp.startPage(),a.innerHTML="第"+i+"页/共"+pagingComp.allPage+"页 "+pagingComp.compsLength+"条记录",pagingComp.currPage===pagingComp.allPage&&(r.style.color="#9d9d9d",r.style.cursor="default")}else n.style.color="black"},i.appendChild(n),i.appendChild(r),e.appendChild(t),e.appendChild(i),this.pageE=T(this.pageE).compRecord(this.focusId,e),e},getPageButton:function(e){return this.pageButton[e]},getPageComp:function(e){return this.pageE[e]}},radioComp={init:function(e,t){var a=document.createElement("div");if(a.setAttribute("class","marTpad"),"undefined"!=typeof e.title){var i=document.createElement("label");i.setAttribute("class","marR10"),i.innerHTML=e.title,a.appendChild(i)}var n=e.list,r={};for(var o in n){var l=n[o].value,s=n[o].text,c=document.createElement("input");l===e.defaultChecked&&(c.setAttribute("checked","checked"),r.value=l,r.text=s),c.setAttribute("type","radio"),c.setAttribute("name",e.name),c.setAttribute("value",l),c.setAttribute("text",s);var d=document.createElement("span");d.setAttribute("class","marR10"),d.innerHTML=s,a.appendChild(c),a.appendChild(d)}T(a).click(function(e){var i=T(e).getEventTarget(),n=i.nodeName;if("INPUT"===n){r.value=i.attributes.value.value,r.text=i.attributes.text.value;var o={radio:r};if(a.attributes.tempdatas=o,t)return t(o)}});var u={radio:r};return a.attributes.tempdatas=u,a}},scroolLoadComp={init:function(e,t,a){var i=T().CDE("div");T(i).setClass("wlc-parent");var n=T().CDE("ul");return a&&(n.onclick=function(e){e=T(e).getEventTarget();var t=e.parentNode.getAttribute("value"),i={};return i.id=t,a(i)}),i.appendChild(n),T(i).autoLoad(e,t,e.length,n),i}},selectComp={init:function(e,t,a,i){var n=parseInt(e)+36,r=parseInt(e)+34,o=T().CDE("div");o.style.width=n+"px",o.style.position="relative",o.style.zIndex="10000",o.style.margin="0",o.style.padding="0",o.style.fontSize="13px";var l=T().CDE("cite");l.innerHTML=a.cite,l.style.width=e+"px",l.style.height=t+"px",l.style.lineHeight=t+"px",l.style.display="block",l.style.color="#807a62",l.style.cursor="pointer",l.style.fontStyle="normal",l.style.paddingLeft="4px",l.style.paddingRight="30px",l.style.border="1px solid #333",l.style.overflowX="hidden",l.style.background="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAMAAABcOc2zAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAJUExURXt7e3p6ev////MnDfwAAAADdFJOU///ANfKDUEAAAAiSURBVHjaYmBCAwzUEWCAACQVyHyIFgYGRjQzGCiyFiDAAI3WAWIk9jYnAAAAAElFTkSuQmCC) no-repeat right center";var s=T().CDE("ul");s.style.maxHeight="193px",s.style.overflowY="scroll",l.onclick=function(e){e.stopPropagation(e),"none"===s.style.display?s.style.display="block":s.style.display="none"},document.body.onclick=function(e){s.style.display="none"},s.style.margin="-1px 0px 0px",s.style.padding="0px",s.style.fontSize="13px",s.style.width=r+"px",s.style.border="1px solid #333333",s.style.position="absolute",s.style.zIndex="20000",s.style.display="none",s.style.backgroundColor="#ffffff";var c=a.list,d="",u="",p=document.createDocumentFragment();for(var A in c){var h=T().CDE("li");h.style.height=t+"px",h.style.lineHeight=t+"px",h.style.listStyle="none",h.style.margin="0px",h.style.padding="0px",h.style.fontSize="13px",h.style.width="100%";var m=T().CDE("span");m.setAttribute("value",c[A].value),m.innerHTML=c[A].text,m.style.background="#fff",m.style.display="block",m.style.height=t+"px",m.style.color="#333",m.style.textDecoration="none",m.style.paddingLeft="10px",m.style.paddingRight="10px",h.appendChild(m),p.appendChild(h),"undefined"!=typeof a.defaultCheck&&""!==a.defaultCheck&&a.defaultCheck===c[A].value&&(l.innerHTML=c[A].text,d=c[A].value,u=c[A].text)}s.appendChild(p),T(s).mouseover(function(e){var t=T(e).getEventTarget();"SPAN"===t.nodeName&&(t.style.background="#ccc")}).mouseout(function(e){var t=T(e).getEventTarget();"SPAN"===t.nodeName&&(t.style.background="#fff")}).click(function(e){var t=T(e).getEventTarget().nodeName;if("SPAN"===t){s.style.display="none";var n=T(e.target).CAT().value.value,r=e.target.innerHTML;l.innerHTML=r;var c={value:n,text:r},d=new Object({});if(d.id=a.id,d.value=n,d.text=r,T(o).CAT().tempdatas=T(T(o).CAT().tempdatas).compRecord("select"+a.id,d),i)return i(c)}});var g=new Object({}),y="select"+a.id;if(g.id=a.id,g.value=d,g.text=u,o.appendChild(l),o.appendChild(s),"undefined"!=typeof a.title){var v=T().CDE("div");T(v).setClass("marTpad"),v.style.display="inline-block";var C=T().CDE("label");T(C).setClass("marR10"),C.style["float"]="left",C.innerHTML=a.title,o.style["float"]="left",v.appendChild(C),v.appendChild(o),o=v}else o.style["float"]="left";return T(o).CAT().tempdatas=T(T(o).CAT().tempdatas).compRecord(y,g),o}},textAreaComp={init:function(e){var t=document.createElement("div");t.setAttribute("class","messageBox");var a=document.createElement("label");a.setAttribute("class","MBlabel"),""!==e&&(a.innerHTML=e+"：");var i=document.createElement("div");i.setAttribute("class","messageBox-textarea");var n=document.createElement("textarea");n.setAttribute("class","paddLR10"),n.setAttribute("rows","3"),n.setAttribute("cols","30"),n.style.width="100%",n.style.height="100%",n.onblur=function(){var a={};a["textarea"+e]=n.value,t.attributes.tempdatas=a};var r={};return r["textarea"+e]="",t.attributes.tempdatas=r,i.appendChild(n),t.appendChild(a),t.appendChild(i),t}},windowDragComp={init:function(e,t){var a=T().CDE("div");a.setAttribute("class","wdc-parent"),a.style.position="absolute",a.style.left=e.wx+"px",a.style.top=e.wy+"px",a.style.width="400px",a.style.height="100px";var i=T().CDE("div");i.style.cursor="pointer",i.setAttribute("class","wdc-dragTitle");var n=T().CDE("span");n.innerHTML=e.title,i.appendChild(n);var r=T().CDE("div");"undefined"!=typeof t&&r.appendChild(t),r.style.cursor="default",a.appendChild(i),a.appendChild(r),document.body.appendChild(a),this.parentE=T(this.parentE).compRecord(e.id,a),this.addDrag(i,a)},remove:function(){this.parentE&&T(this.parentE).remove()},addDrag:function(e,t){e=e||t,e.style.cursor="move",e.onmousedown=function(e){e=e||window.event,t.style.zIndex="999999";var a=e.clientX-t.offsetLeft,i=e.clientY-t.offsetTop;return document.onmousemove=function(e){e=e||window.devent;var n=e.clientX-a,r=e.clientY-i,o=document.documentElement.clientWidth-t.offsetWidth,l=document.documentElement.clientHeight-t.offsetHeight;return n=0>=n?0:n,r=0>=r?0:r,n=n>=o?o:n,r=r>=l?l:r,t.style.left=n+"px",t.style.top=r+"px",!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,t.style.zIndex="99999"},!1}}},mapComp={buildMap:function(e){var t=new OpenLayers.Map(e,{controls:[]});this.map=t;var a=new OpenLayers.Layer.WMS("basicMap","http://vmap0.tiles.osgeo.org/wms/vmap0",{layers:"basic"},{});t.addControl(new OpenLayers.Control.Navigation({documentDrag:!0})),t.addLayer(a),t.setCenter(new OpenLayers.LonLat(120,20),5),this.initDrawLayer()},getMap:function(){return this.map},initDrawLayer:function(){var e=new OpenLayers.Layer.Vector("toolBarDraw",{styleMap:new OpenLayers.StyleMap({"default":{fillColor:"${color}",fillOpacity:"0.5",strokeColor:"${strokeColor}",strokeWidth:"${size}",label:"${text}",graphicWidth:"${size}",graphicHeight:"${size}",graphicOpacity:1,externalGraphic:"${logo}",labelYOffset:-20}})});this.map.addLayer(e),this.drawLayer=e;var t={1:{"#ed3f2b":{logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABcElEQVR4AZWSA2ylURSE10awthmsbcRatI0aq3Ea1G6MRi+obdu2bdu2Ts88/ihPMj/ufHO9T1iXXSoPsPRZ0axB1or6HY12+EJeGLzMyr3t00CG2SNkkDtJn1In6X3yOD2P6ie0wwcnDR5nVT8N7SJF0zw5Nc7R57QpmeCDAy8M2zwIaCWjkhlyb5un90ljdMe3ia66VeNN7/gfYQgceGG46U38CBmXz9L39CkONAIwZ53C+7ZPozb8Jn6YwAvDq1ifBuARARxRe6euuFZpPebgrQnDPe8SR7XAXd8mzcgn8cZMNB5z8HqFYcWTkE4tgDXfVa8Z7/eCNYMDLwxf46kNv4obArCl3iSMEHNjzF+RHtfva+41q8JRhPrA533Ds3adub9bXRRTXAbh5kH4v+2tvCSO4LYK72eFPQhsFYXv+TUj6At/33bFwAlWgWYDHwW1I5imObodi8GzrOq7fk0IVuF/314KO8pKYJ3fitkALc6Dqqd/prcAAAAASUVORK5CYII="}}};this.logoList=t},getDrawLayer:function(){return this.drawLayer},removeLasFeature:function(){var e=this.drawLayer.features;this.drawLayer.removeFeatures([e[e.length-1]])},drawPolygon:function(e,t){var a={freehand:!1},i=OpenLayers.Util.applyDefaults({pointRadius:6,label:"",fillColor:t,strokeWidth:e,labelYOffset:25,strokeColor:"blue",graphicName:"square"},OpenLayers.Feature.Vector.style.temporary);this.layerSize=e,this.layerColor=t,this.drawLayer.styleMap.styles.temporary=new OpenLayers.Style(i),this.initDraw(a,this.drawLayer,"Polygon","polygon")},drawPath:function(e,t,a){var i={freehand:!1},n=OpenLayers.Util.applyDefaults({pointRadius:6,label:"",fillColor:t,strokeWidth:e,labelYOffset:25,strokeColor:"blue",graphicName:"square"},OpenLayers.Feature.Vector.style.temporary);this.layerSize=e,this.layerColor=t,this.drawLayer.styleMap.styles.temporary=new OpenLayers.Style(n),this.initDraw(i,this.drawLayer,"LineString",a)},drawPoint:function(e,t){var a=15*e,i={graphicWidth:a,graphicHeight:a,pointRadius:6},n=mapComp.getPointLogo(e,t),r=OpenLayers.Util.applyDefaults({pointRadius:6,label:"",graphicWidth:a,graphicHeight:a,labelYOffset:25,graphicOpacity:1,externalGraphic:n},OpenLayers.Feature.Vector.style.temporary);this.layerSize=e,this.layerColor=t,this.drawLayer.styleMap.styles.temporary=new OpenLayers.Style(r),this.initDraw(i,this.drawLayer,"Point","point")},drawRegularPolygon:function(e,t){var a={sides:4,irregular:!1},i=OpenLayers.Util.applyDefaults({pointRadius:6,label:"",fillColor:t,strokeWidth:e,labelYOffset:25,strokeColor:"blue"},OpenLayers.Feature.Vector.style.temporary);this.layerSize=e,this.layerColor=t,this.drawLayer.styleMap.styles.temporary=new OpenLayers.Style(i),this.initDraw(a,this.drawLayer,"RegularPolygon","RegularPolygon")},drawArrowPolygon:function(e,t){var a={graphicSize:2,mode:"direction"},i=OpenLayers.Util.applyDefaults({pointRadius:6,label:"",fillColor:t,strokeWidth:e,labelYOffset:25,strokeColor:"blue",graphicName:"square"},OpenLayers.Feature.Vector.style.temporary);this.layerSize=e,this.layerColor=t,this.drawLayer.styleMap.styles.temporary=new OpenLayers.Style(i),this.initDraw(a,this.drawLayer,"arrowPolygon","arrowPolygon")},setLayerPro:function(e,t){this.layerSize=e,this.layerColor=t;var a=this.drawLayer.styleMap.styles.temporary.defaultStyle;a.fillColor=t,a.strokeWidth=e,a.graphicHeight=15*e,a.graphicWidth=15*e},initDraw:function(e,t,a,i){var n=this.getMap(),r={point:new OpenLayers.Control.DrawFeature(t,OpenLayers.Handler.Point,{handlerOptions:e,featureAdded:function(e){try{console.info("finished");var a=15*mapComp.layerSize,n=mapComp.getPointLogo(mapComp.layerSize,mapComp.layerColor);e.attributes={text:"",size:a,color:"",strokeColor:"",type:i,logo:n},t.redraw(),mapComp.dragControl.activate(),c.deactivate()}catch(r){}},callbacks:function(e){console.info("point call back")}}),line:new OpenLayers.Control.DrawFeature(t,OpenLayers.Handler.Path,{handlerOptions:e,featureAdded:function(e){console.info("finished"),e.attributes={color:"",text:"",size:mapComp.layerSize,strokeColor:mapComp.layerColor,type:i},t.redraw(),mapComp.dragControl.activate(),c.deactivate()}}),polygon:new OpenLayers.Control.DrawFeature(t,OpenLayers.Handler.Polygon,{handlerOptions:e,featureAdded:function(e){console.info("finished"),e.attributes={color:mapComp.layerColor,text:"",size:mapComp.layerSize,strokeColor:"blue",type:i},t.redraw(),mapComp.dragControl.activate(),c.deactivate()}}),RegularPolygon:new OpenLayers.Control.DrawFeature(t,OpenLayers.Handler.RegularPolygon,{handlerOptions:e,featureAdded:function(e){console.info("finished"),e.attributes={color:mapComp.layerColor,text:"",size:mapComp.layerSize,strokeColor:"blue",type:i},t.redraw(),mapComp.dragControl.activate(),c.deactivate()}}),arrowPolygon:new OpenLayers.Control.DrawFeature(t,OpenLayers.Handler.VerticePolygon,{handlerOptions:e,featureAdded:function(e){console.info("finished"),e.attributes={color:mapComp.layerColor,text:"",size:mapComp.layerSize,strokeColor:"blue",type:i},t.redraw(),mapComp.dragControl.activate(),c.deactivate()}})},o="";"Polygon"===a?o=r.polygon:"LineString"===a?o=r.line:"Point"===a?o=r.point:"RegularPolygon"===a?o=r.RegularPolygon:"arrowPolygon"===a&&(o=r.arrowPolygon),"Point"!==a&&(o.handler.callbacks.point=function(e){console.log(e),console.info(i)}),this.layerHandler=o,n.addControl(o),o.activate();var l="OpenLayers.Geometry."+a;("RegularPolygon"===a||"arrowPolygon"===a)&&(l="OpenLayers.Geometry.Polygon");var s=new OpenLayers.Control.DragFeature(t,{geometryTypes:[l],onEnter:function(e){console.info("enter"),c.activate(),mapComp.drawLayer.styleMap.styles.temporary.defaultStyle.label="双击删除"},onLeave:function(e){console.info("out"),mapComp.drawLayer.styleMap.styles.temporary.defaultStyle.label=""}});this.dragControl=s,n.addControl(s),s.activate();var c=new(OpenLayers.Class(OpenLayers.Control,{initialize:function(e,t){OpenLayers.Control.prototype.initialize.apply(this,[t]),this.layer=e,this.handler=new OpenLayers.Handler.Feature(this,e,{dblclick:this.dbClickFeature,click:this.clickFeature})},dbClickFeature:function(e){console.info("dbClick"),t.removeFeatures([e]),s.deactivate(),c.activate(),mapComp.drawLayer.styleMap.styles.temporary.defaultStyle.label=""},clickFeature:function(e){console.info("click2")}}))(t);this.clickFeatureControl=c,n.addControl(c),c.activate()},clearHander:function(){"undefined"!=typeof this.layerHandler&&(this.layerHandler.deactivate(),this.dragControl.deactivate(),this.clickFeatureControl.deactivate())},changPenModel:function(e){console.info(this.layerHandler);try{this.layerHandler.handler.freehand=e}catch(t){console.info(t.message)}},getPointLogo:function(e,t){return this.logoList[e][t].logo}};OpenLayers.Handler.VerticePolygon=OpenLayers.Class(OpenLayers.Handler.Drag,{sides:7,circleEnd1:null,circleEnd2:null,radius:null,mutiVertice:!1,leftFocus:null,mouseAction:null,rightFocus:null,circleRing:null,circleRing2:null,arrowRing:null,snapAngle:null,mode:null,circleAngle:null,circleRadius:null,snapToggle:"shiftKey",layerOptions:null,persist:!1,graphicSize:null,ringStart1:null,ringStart2:null,irregular:!1,citeCompliant:!1,angle:null,fixedRadius:!1,circleIn:null,circleOut:null,feature:null,layer:null,radius2:null,origin:null,originchan:null,polygon:null,circleCenter:null,initialize:function(e,t,a){a&&a.layerOptions&&a.layerOptions.styleMap||(this.style=OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"],{})),OpenLayers.Handler.Drag.prototype.initialize.apply(this,[e,t,a]),this.options=a?a:{}},setOptions:function(e){OpenLayers.Util.extend(this.options,e),OpenLayers.Util.extend(this,e)},activate:function(){var e=!1;if(OpenLayers.Handler.Drag.prototype.activate.apply(this,arguments)){var t=OpenLayers.Util.extend({displayInLayerSwitcher:!1,calculateInRange:OpenLayers.Function.True,wrapDateLine:this.citeCompliant},this.layerOptions);this.layer=new OpenLayers.Layer.Vector(this.CLASS_NAME,t),this.map.addLayer(this.layer),e=!0}return e},deactivate:function(){var e=!1;return OpenLayers.Handler.Drag.prototype.deactivate.apply(this,arguments)&&(this.dragging&&this.cancel(),null!==this.layer.map&&(this.layer.destroy(!1),this.feature&&this.feature.destroy()),this.layer=null,this.feature=null,e=!0),e},down:function(e){this.layer.removeAllFeatures(),this.fixedRadius=!!this.radius;var t=this.layer.getLonLatFromViewPortPx(e.xy);this.origin=new OpenLayers.Geometry.Point(t.lon,t.lat),this.originchan=new OpenLayers.Geometry.Point(t.lon,t.lat),(!this.fixedRadius||this.irregular)&&(this.radius=this.map.getResolution()),this.persist&&this.clear(),this.feature=new OpenLayers.Feature.Vector,this.mouseAction="down",this.createGeometry(),this.callback("create",[this.origin,this.feature]),this.layer.addFeatures([this.feature],{silent:!0}),this.layer.drawFeature(this.feature,this.style)},move:function(e){this.mouseAction="move";var t=this.layer.getLonLatFromViewPortPx(e.xy),a=new OpenLayers.Geometry.Point(t.lon,t.lat);if(this.irregular){var i=Math.sqrt(2)*Math.abs(a.y-this.origin.y)/2;this.radius=Math.max(this.map.getResolution()/2,i)}else if(this.fixedRadius)this.origin=a;else{var n=this.calculateAngle(a,e);this.radius=a.distanceTo(this.originchan),this.radius2=a.distanceTo(this.originchan),this.circleAngle=n+n}this.modifyGeometry(),this.layer.drawFeature(this.feature,this.style)},up:function(e){this.finalize(),this.start==this.last&&this.callback("done",[e.xy])},out:function(e){this.finalize()},createGeometry:function(){if("direction"==this.mode){null===this.graphicSize&&(this.graphicSize=.02),this.radius=.01;var e,t,a,i,n,r,o,l=[];e=new OpenLayers.Geometry.Point(this.origin.x,this.origin.y+this.graphicSize/2),t=new OpenLayers.Geometry.Point(this.origin.x,this.origin.y-this.graphicSize/2),a=new OpenLayers.Geometry.Point(this.origin.x+2*this.radius/3,this.origin.y+this.graphicSize/2),i=new OpenLayers.Geometry.Point(this.origin.x+2*this.radius/3,this.origin.y+this.graphicSize/2*3),n=new OpenLayers.Geometry.Point(this.origin.x+2*this.radius/3,this.origin.y-this.graphicSize/2),r=new OpenLayers.Geometry.Point(this.origin.x+2*this.radius/3,this.origin.y-this.graphicSize/2*3),o=new OpenLayers.Geometry.Point(this.origin.x+this.radius,this.origin.y),l.push(e,t,n,r,o,i,a);var s=new OpenLayers.Geometry.LinearRing(l),c=new OpenLayers.Geometry.Polygon([s]);this.feature.geometry=c}else{this.circleCenter=new OpenLayers.Geometry.Point(this.originchan.x-.04,this.originchan.y),this.circleRing=this.createCircleRing(this.circleCenter,this.circleCenter,this.originchan,Math.PI/3*2,.05,15,305),this.circleRing2=this.createCircleRing(this.circleCenter,this.circleCenter,this.originchan,Math.PI/3*2,.04,15,301.5),this.ringStart2=this.circleRing2[0];for(var d=this.circleRing[this.circleRing.length-1].x,u=this.circleRing2[this.circleRing2.length-1].x,p=this.circleRing[this.circleRing.length-1].y,A=this.circleRing2[this.circleRing2.length-1].y,h=new OpenLayers.Geometry.Point(d+.02*Math.cos(Math.PI/3),p+.02*Math.sin(Math.PI/3)),m=new OpenLayers.Geometry.Point(u-.02*Math.cos(Math.PI/3),A-.02*Math.sin(Math.PI/3)),g=p>A?p:A,y=new OpenLayers.Geometry.Point((d+u)/2,g+.02),v=[],C=0;C<this.circleRing.length;C++)v.push(this.circleRing[C]);v.push(h,y,m);for(var f=this.circleRing2.length-1;f>=0;f--)v.push(this.circleRing2[f]);var b=new OpenLayers.Geometry.LinearRing(v);this.polygon=new OpenLayers.Geometry.Polygon([b]),this.feature.geometry=this.polygon}},modifyGeometry:function(){var e,t,a,i=this.feature.geometry.components[0];e=this.angle,disAngle=Math.PI/2+e,a=this.radius-.01;var n=this.graphicSize,r=this.originchan;this.circleAngle=2*(e-Math.PI/2),this.circleRadius=this.radius2;var o=new OpenLayers.Geometry.Point(this.originchan.x-this.circleRadius,this.originchan.y),l=new OpenLayers.Geometry.Point(this.originchan.x+this.circleRadius,this.originchan.y);if("direction"==this.mode)redrawPolygonByMove(e,r,i,a,n,disAngle);else{for(var s=e,c=this.createCircleRing(o,l,this.originchan,s,this.circleRadius+.01,15,305),d=this.createCircleRing(o,l,this.originchan,s,this.circleRadius,15,301),u=c[c.length-1],p=d[d.length-1],A=this.countArrow(u,p,s),h=0;h<i.components.length;h++)t=i.components[h],h<c.length?(t.x=c[h].x,t.y=c[h].y,t.clearBounds()):h<=c.length+2&&h>=c.length?h==this.circleRing.length?(t.x=A[0].x,t.y=A[0].y,t.clearBounds()):h==c.length+1?(t.x=A[1].x,t.y=A[1].y,t.clearBounds()):h==c.length+2&&(t.x=A[2].x,t.y=A[2].y,t.clearBounds()):(t.x=d[i.components.length-1-h].x,t.y=d[i.components.length-1-h].y,t.clearBounds());this.roratePolygon(s,this.originchan),this.layer.drawFeature(this.feature,this.style)}},calculateAngle:function(e,t){var a=Math.atan2(e.y-this.originchan.y,e.x-this.originchan.x);if(this.snapAngle&&this.snapToggle&&!t[this.snapToggle]){var i=Math.PI/180*this.snapAngle;this.angle=Math.round(a/i)*i}else this.angle=a},destroyFeature:function(e){!this.layer||!e&&this.persist||this.layer.destroyFeatures(),
this.point=null,this.line=null},cancel:function(){this.callback("cancel",null),this.finalize()},finalize:function(){this.origin=null,this.radius=this.options.radius},clear:function(){this.layer&&(this.layer.renderer.clear(),this.layer.destroyFeatures())},callback:function(e,t){this.callbacks[e]&&this.radius2>.03&&this.callbacks[e].apply(this.control,[this.feature.geometry.clone()]),this.persist||"done"!=e&&"cancel"!=e||this.clear(),"done"==e&&(this.radius2=this.options.radius2)},createCircleRing:function(e,t,a,i,n,r,o){var l,s,c,d=Math.atan2(e.y-a.y,e.x-a.x),u=[];u.push(a);for(var p=0;r>p;++p){var A=p*((360-o)/360);i>0&&i<Math.PI/2?(l=d-2*A*Math.PI/r+Math.PI,s=t.x-n*Math.cos(l),c=t.y-n*Math.sin(l)):i>Math.PI/2&&i<Math.PI?(l=d+2*A*Math.PI/r+Math.PI,s=e.x+n*Math.cos(l),c=e.y+n*Math.sin(l)):i>-Math.PI&&i<-Math.PI/2?(l=d-2*A*Math.PI/r-Math.PI,s=e.x+n*Math.cos(l),c=e.y+n*Math.sin(l)):i>-Math.PI/2&&0>i&&(l=d+2*A*Math.PI/r,s=t.x+n*Math.cos(l),c=t.y+n*Math.sin(l)),p==r-1?this.circleEnd1=new OpenLayers.Geometry.Point(s,c):0===p&&(this.circleEnd2=new OpenLayers.Geometry.Point(s,c)),u.push(new OpenLayers.Geometry.Point(s,c))}return u},countArrow:function(e,t,a){var i,n,r,o,l,s,c,d,u,p=[];return a>0&&a<Math.PI/2?(o=e.x-.015*Math.cos(Math.PI/3),s=e.y+.015*Math.sin(Math.PI/3)-.01,l=t.x-.015*Math.cos(Math.PI/3)-.01*(this.circleRadius/.25),c=t.y-.015*Math.sin(Math.PI/3)-.01*(this.circleRadius/.25),d=(e.x>t.x?e.x:t.x)+.02,u=(e.y+t.y)/2+.01):a>Math.PI/2&&a<Math.PI?(o=e.x+.015*Math.cos(Math.PI/3),s=e.y+.015*Math.sin(Math.PI/3)-.01,l=t.x+.015*Math.cos(Math.PI/3)+.01*(this.circleRadius/.25),c=t.y-.015*Math.sin(Math.PI/3)-.01*(this.circleRadius/.25),d=(e.x<t.x?e.x:t.x)-.02,u=(e.y+t.y)/2+.01):a>-Math.PI&&a<-Math.PI/2?(o=e.x+.015*Math.cos(Math.PI/3),s=e.y-.015*Math.sin(Math.PI/3),l=t.x+.015*Math.cos(Math.PI/3)+.01*(this.circleRadius/.25),c=t.y+.015*Math.sin(Math.PI/3)+.01*(this.circleRadius/.25),d=(e.x<t.x?e.x:t.x)-.02,u=(e.y+t.y)/2-.01):a>-Math.PI/2&&0>a&&(o=e.x-.015*Math.cos(Math.PI/3),s=e.y-.015*Math.sin(Math.PI/3)+.01,l=t.x-.015*Math.cos(Math.PI/3)-.01*(this.circleRadius/.25),c=t.y+.015*Math.sin(Math.PI/3)+.01*(this.circleRadius/.25),d=(e.x>t.x?e.x:t.x)+.02,u=(e.y+t.y)/2-.01),i=new OpenLayers.Geometry.Point(o,s),n=new OpenLayers.Geometry.Point(l,c),r=new OpenLayers.Geometry.Point(d,u),p.push(i,r,n),p},roratePolygon:function(e,t){var a=this.feature.geometry.components[0];e>0&&e<Math.PI/2?a.rotate(180*(e-Math.PI/2+Math.PI/6)/Math.PI,t):e>Math.PI/2&&e<Math.PI?a.rotate(180*(e-Math.PI/2-Math.PI/6)/Math.PI,t):e>-Math.PI&&e<-Math.PI/2?a.rotate(180*(e+Math.PI/2+Math.PI/6)/Math.PI,t):e>-Math.PI/2&&0>e&&a.rotate(180*(e+Math.PI/2-Math.PI/6)/Math.PI,t)},CLASS_NAME:"OpenLayers.Handler.VerticePolygon"});var searchBarComp={init:function(e,t,a){var i=document.createElement("div");this.bar=i,i.setAttribute("class","lanren-search-form");var n=document.createElement("div");n.setAttribute("id","search-bd"),n.setAttribute("class","search-bd");var r=document.createElement("ul"),o=document.createDocumentFragment(),l=e.tab,s=e.defaultSelect;for(var c in l){var d=document.createElement("li"),u=l[c].title;d.setAttribute("value",u),d.innerHTML=u,u===s&&(d.setAttribute("class","selected"),searchBarComp.defaultWarn=l[c].warn,searchBarComp.searchType=l[c].value),o.appendChild(d)}r.appendChild(o),n.appendChild(r);var p=document.createElement("div");p.setAttribute("id","search-hd"),p.setAttribute("class","search-hd");var A=this.createSearchBox(p),h=document.createElement("button");h.setAttribute("class","btn-search"),h.setAttribute("varlue",e.button),h.innerHTML=e.button;var m=null;return"undefined"!=typeof e.backButton&&(m=document.createElement("button"),m.setAttribute("class","btn-back"),m.setAttribute("varlue",e.backButton),m.innerHTML=e.backButton,m.onclick=function(){T(m).remove(),i.style.width="575px",h.style.width="70px",h.style.right="3px",a&&a()}),r.onclick=function(e){e=T(e).getEventTarget();var t=r.childNodes;for(var a in t)if("selected"===t[a].getAttribute("class")){t[a].setAttribute("class","");break}if("LI"===e.nodeName){searchBarComp.searchContent="",e.setAttribute("class","selected");var i=e.getAttribute("value");A.input.value="";for(var n in l){var o=l[n].title;if(o===i){var s=l[n].warn;searchBarComp.defaultWarn=s,searchBarComp.searchType=l[n].value,A.span.innerHTML=s}}}},h.onclick=function(){if(t&&(m&&(i.style.width="600px",h.style.width="45px",h.style.right="50px",p.appendChild(m)),""!==searchBarComp.searchContent&&"undefined"!=typeof searchBarComp.searchContent)){var e={};return e.type=searchBarComp.searchType,e.value=searchBarComp.searchContent,t(e)}},p.appendChild(h),i.appendChild(n),i.appendChild(p),i},createSearchBox:function(e){var t=document.createElement("div");t.setAttribute("class","search-bg");var a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("class","search-input");var i=document.createElement("span");i.innerHTML=searchBarComp.defaultWarn,i.setAttribute("class","pholder"),a.oninput=function(e){e=T(e).getEventTarget();var t=e.value;searchBarComp.searchContent=t,t.length>0?i.innerHTML="":i.innerHTML=searchBarComp.defaultWarn},e.appendChild(t),e.appendChild(a),e.appendChild(i);var n={};return n.input=a,n.span=i,searchBarComp.input=a,searchBarComp.span=i,n},getSearchItem:function(){return searchBarComp},close:function(){"undefined"!=typeof this.bar&&T(this.bar).remove()}},caseComp={init:function(){}},cityComp={init:function(e,t){function a(e){console.info(e);var t={cite:"请选择县区",id:"town",list:[{text:"阳东县",value:"阳东县"},{text:"阳西县",value:"阳西县"},{text:"江城区",value:"江城区"},{text:"阳春县",value:"阳春县"}]};d&&(T(d).remove(),d=null),u&&(T(u).remove(),u=null),d=selectComp.init("85","34",t,i),s.appendChild(d)}function i(e){console.info(e);var t={cite:"请选择镇街",id:"town",list:[{text:"A镇",value:"A镇"},{text:"B镇",value:"B镇"},{text:"C镇",value:"C镇"},{text:"D镇",value:"D镇"}]};u&&(T(u).remove(),u=null),u=selectComp.init("108","34",t,n),s.appendChild(u)}function n(e){console.info(e)}var r=document.createElement("div");r.setAttribute("class","cityBar");var o=document.createElement("span");o.innerHTML=e.name,o.style.color="#fff";var l=document.createElement("img");l.style.cursor="pointer",l.setAttribute("status",""),l.setAttribute("code",e.code),l.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAHCAYAAADTcMcaAAAAWklEQVR4AWNQ0DD+CMT/gfggAx4Akoeq+wgT+A4VmIJDwxSo/HdkQV0g/guVKEfTUA4Sh8rrQkQxNf4DsZHE/qFrQNcYgmRqCJLtIRiKcTjnH6ZzCWv8jUsDAExWM9Gq2hrlAAAAAElFTkSuQmCC"),l.onclick=function(){var e="",t="none",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAHCAYAAADTcMcaAAAAWklEQVR4AWNQ0DD+CMT/gfggAx4Akoeq+wgT+A4VmIJDwxSo/HdkQV0g/guVKEfTUA4Sh8rrQkQxNf4DsZHE/qFrQNcYgmRqCJLtIRiKcTjnH6ZzCWv8jUsDAExWM9Gq2hrlAAAAAElFTkSuQmCC";""===l.getAttribute("status")&&(e="selected",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAHCAYAAADTcMcaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACiSURBVChTY2bAAhQ0jMsFRKQOAPGvD2+eH4UKwwGGJpAGINUBxIxA7ArU+ANdIxOUBgOghhAgBdLwD4jDoHQHVBwO4JqAErpAaiUQ/wdigwc3zq4B0VD+Sqg8GIA1QQUuQPmVQA2XQeJQuhIqfgGmEWbTKSAGsacCFXaCRaAAyp8KxCB5kDoGRqDuj0CaD4gPARXYgwSxAaC6g0DKjoGB4RMAyr41T/QiwF4AAAAASUVORK5CYII=",t="block",console.info(l.getAttribute("code"))),s.style.display=t,m.style.display=t,l.setAttribute("status",e),l.setAttribute("src",a)};var s=document.createElement("div");s.style.display="none",s.setAttribute("class","citySelect");var c=null,d=null,u=null;if("province"===e.type){var p={cite:"请选择城市",id:"city",list:[{text:"广州市",value:"440100"},{text:"阳江市",value:"441700"},{text:"惠州市",value:"440500"},{text:"韶关市",value:"440700"}]};c=selectComp.init("85","34",p,a)}else if("city"===e.type){var A={cite:"请选择县区",id:"town",list:[{text:"江城区",value:"440100"},{text:"阳春县",value:"441700"},{text:"阳东县",value:"440500"},{text:"阳西县",value:"440700"}]};c=selectComp.init("85","34",A,i)}else if("town"===e.type){var h={cite:"请选择城镇",id:"country",list:[{text:"E镇",value:"440100"},{text:"F镇",value:"441700"},{text:"G镇",value:"440500"},{text:"H镇",value:"440700"}]};c=selectComp.init("108","34",h,n)}var m=document.createElement("div");m.style.display="none",m.setAttribute("class","caseShow");var g=document.createElement("div"),y=document.createElement("ul"),v=document.createElement("li"),C=document.createElement("span");C.style.width="12%",C.innerHTML="序号";var f=document.createElement("span");f.style.width="24%",f.innerHTML="预案编码";var b=document.createElement("span");b.style.width="63%",b.innerHTML="预案名称",v.appendChild(C),v.appendChild(f),v.appendChild(b),y.appendChild(v),g.appendChild(y),m.appendChild(g);var x={list:[{num:"1",id:"001",text:"测试测试测试测试测试"},{num:"2",id:"002",text:"测试测试测试测试测试"},{num:"3",id:"003",text:"测试测试测试测试测试"},{num:"4",id:"004",text:"测试测试测试测试测试"},{num:"5",id:"005",text:"测试测试测试测试测试"},{num:"6",id:"006",text:"测试测试测试测试测试"},{num:"7",id:"007",text:"测试测试测试测试测试"},{num:"8",id:"008",text:"测试测试测试测试测试"},{num:"9",id:"009",text:"测试测试测试测试测试"},{num:"10",id:"010",text:"测试测试测试测试测试"},{num:"11",id:"011",text:"测试测试测试测试测试"}]},E=[];for(var M in x.list){var w=x.list[M],L=document.createElement("li");L.setAttribute("value",w.id),L.style.cursor="pointer";var k=document.createElement("span");k.style.width="39px",k.innerHTML=w.num;var P=document.createElement("span");P.style.width="78px",P.innerHTML=w.id;var I=document.createElement("span");I.style.width="61%",I.style.borderRight="0px",I.innerHTML=w.text,L.appendChild(k),L.appendChild(P),L.appendChild(I),E.push(L)}var B=scroolLoadComp.init(E,5,t);return m.appendChild(B),s.appendChild(c),r.appendChild(o),r.appendChild(l),r.appendChild(s),r.appendChild(m),r}},colorComp={init:function(e){colorComp.resultJson={};var t=document.createElement("div"),a=document.createElement("div");a.setAttribute("class","styleChange");var i=document.createElement("div");i.setAttribute("class","sizeSelect");var n={defaultCheck:"1",list:[{value:"1",top:"0",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAJ0lEQVR4AWMYDGAUsFWdbwXizyCaHM0/gfg/yABybf4CsXngwSgAAFoCEq7RbnUNAAAAAElFTkSuQmCC"},{value:"3",top:"0",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAMElEQVR4AWMYDGAUsFWd9wTiZ1DsSZJmqKb/UPyMEs3PSdXsBdIExE9AbCqExCgAAChRIUNxN8UfAAAAAElFTkSuQmCC"},{value:"5",top:"0",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAQ0lEQVR4AWOAgFHAVnU+DIivAPFPKB1GrMYQIP6PjokyAGQTDs1XiNH8E4fmnzS3ORSH5nBiAy0ciK8B8S8QjdA4CgAnWmEE6X3rEwAAAABJRU5ErkJggg=="}]};colorComp.resultJson.size=n.defaultCheck;var r=colorComp.createSizeLogo(n);r.onclick=function(t){t=T(t).getEventTarget();var a=t.nodeName,i=null;"IMG"===a?i=t.parentNode.parentNode:"DIV"===a?i=t.parentNode:"LI"===a&&(i=t);var n=this.childNodes;for(var r in n){var o=n[r];if("LI"===o.nodeName&&n[r].getAttribute("value")!==i.getAttribute("value")){var l=n[r].getAttribute("status");""!==l&&(n[r].setAttribute("status",""),n[r].style.background="")}}var s="",c="";return""===i.getAttribute("status")&&(s="selected",c="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAd0lEQVR4AWMAgZ6uLg0gngjEb4H4PwX4HdQcDZjB6kD8E4jzgFiIgQIA1C8IMgdqnjxIYAIQ56MrpNCSciDuYIAGhRCVDRcCmQti/GegPgCbO2o4Mhg1fNTwUcNHDadpeU6rmqgMiDvR61BBKtahCui1/ztq1v4AmPX5xpLTW40AAAAASUVORK5CYII=) no-repeat 2px 3px"),i.setAttribute("status",s),i.style.background=c,colorComp.resultJson.size=i.getAttribute("value"),e?e(colorComp.resultJson):void 0},i.appendChild(r),a.appendChild(i);var o=document.createElement("div");o.setAttribute("class","colorList");var l=document.createElement("div");l.setAttribute("class","bigColor"),l.style.backgroundColor="#ed3f2b",colorComp.resultJson.color="#ed3f2b";var s=document.createElement("div");l.appendChild(s),o.appendChild(l);var c={up:["000000","6f706b","6f180e","f28837","266d28","0e37b8","6d0b62","13807f"],down:["ffffff","b3b5ae","ed3f2b","968c0b","96c130","0a78c8","d523c8","1ac1ca"]},d=document.createElement("div");d.setAttribute("class","colorSelect");for(var u in c){var p=document.createElement("ul"),A=c[u];for(var h in A){var m=document.createElement("li"),g=document.createElement("div");g.style.backgroundColor="#"+A[h],g.style.cursor="pointer",g.setAttribute("value","#"+A[h]),m.appendChild(g),p.appendChild(m)}d.appendChild(p)}return d.onclick=function(t){if(t=T(t).getEventTarget(),"DIV"===t.nodeName){var a=t.getAttribute("value");if(l.style.backgroundColor=a,colorComp.resultJson.color=a,e)return e(colorComp.resultJson)}},o.appendChild(d),a.appendChild(o),t.appendChild(a),t},createSizeLogo:function(e){var t=document.createElement("ul"),a=e.list;for(var i in a){var n=a[i],r=document.createElement("li"),o=document.createElement("div"),l=document.createElement("img");l.setAttribute("src",n.logo),r.style.marginTop=n.top+"px",r.style.cursor="pointer",r.setAttribute("value",n.value),r.setAttribute("status",""),n.value===e.defaultCheck&&(r.setAttribute("status","selected"),r.style.background="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAd0lEQVR4AWMAgZ6uLg0gngjEb4H4PwX4HdQcDZjB6kD8E4jzgFiIgQIA1C8IMgdqnjxIYAIQ56MrpNCSciDuYIAGhRCVDRcCmQti/GegPgCbO2o4Mhg1fNTwUcNHDadpeU6rmqgMiDvR61BBKtahCui1/ztq1v4AmPX5xpLTW40AAAAASUVORK5CYII=) no-repeat 2px 3px"),o.appendChild(l),r.appendChild(o),t.appendChild(r)}return t},getResultJson:function(){return colorComp.resultJson}},controlComp={init:function(e,t){var a=[{title:"切换画笔模式",sTitle:"取消画笔模式",value:"pen",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAnUlEQVR4AWOgOZh2P6oeiHPI0ZgDxP+huJ4UjdFA/A+sEYEnAzEjIY1+QPwbrAETR+LT6ADEX3FonIWwGVOjIRB/wKFxDRAz49KoAsSvcGjcC8RsuDTKAPFjHBpPADEXLo3cQHwNh8ZLQCxMKHSLsETLXZCL8GtEKE4E4j9Q9ktQGBBMDGi2BUA16hKXkjD9yYMQx8TompdhGklYMwBiAQ1E1n946wAAAABJRU5ErkJggg=="},{title:"撤销",sTitle:"撤销",value:"undo",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAi0lEQVR4AWPABmIu/GcG4v8MJAGE5k0gzeRoPA/SCMKkanwM0gTDpGj8DNeIwD+B+CWU3YVNUw4Q/4FrIIwXAzEXTHMDSJBEPB3FBSRqfg/SQ8iAaUC8H4hfo4n/xRpw+EIbyZAnOEMej+ZOqNxqvFGHQ3MmTJwczaVA/BCI2XDpI+QdP3IzTDwyHwDekBjYsibW8QAAAABJRU5ErkJggg=="},{title:"新增预案",sTitle:"新增预案",value:"add",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAIElEQVR4AWOgCYi58P8/CI9qxqGQFEyZZjxgNKoGJQAAXkmLOVqD5tkAAAAASUVORK5CYII="},{title:"删除当前预案",sTitle:"删除当前预案",value:"delete",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAPElEQVR4AWOgCoi58P8/CJMkj5BAYJLkERIITEiOoAH4NJJsAMGAw6eRdpqp6l+yQxqfHEWJhKLkOfAAAO/HIyhTHziTAAAAAElFTkSuQmCC"},{title:"预案另存为",sTitle:"预案另存为",value:"save",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAO0lEQVR4AWMo6jz7nxTMgAxAAqRiqD5GuGYkQLQBZGhGYMo1o2P6ayYCYNVMtF+BALdmPICgZgJ41GYAyb+iHtR8EtgAAAAASUVORK5CYII="}];return drawComp.createLogo(a,e,t)}},docComp={init:function(e,t){var a=[{title:"展开预案文档",sTitle:"收起预案文档",value:"document",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAVUlEQVR4AWMAAb9t3/4TwuuvvwfjlhOfYhiggGTNk899vEq25tXX3v9rPP5JnFTNcNx9+tMSsjXPv/jhK4rmvY9/YcM4DUPRTCoebDYTxsPFZvprBgBg6FjHgmEKkAAAAABJRU5ErkJggg=="}];return drawComp.createLogo(a,e,t)},createList:function(){var e=document.createElement("div");e.setAttribute("class","documentList");var t={list:[{num:"1",id:"001",text:"文档1"},{num:"2",id:"002",text:"文档2"},{num:"3",id:"003",text:"文档3"},{num:"4",id:"004",text:"文档4"},{num:"5",id:"005",text:"文档5"},{num:"6",id:"006",text:"文档6"},{num:"7",id:"007",text:"文档7"},{num:"8",id:"008",text:"文档8"},{num:"9",id:"009",text:"文档9"},{num:"10",id:"010",text:"文档10"},{num:"11",id:"011",text:"文档11"}]},a=[];for(var i in t.list){var n=t.list[i],r=document.createElement("li");r.setAttribute("value",n.id),r.style.cursor="pointer";var o=document.createElement("span");o.style.width="30px",o.innerHTML=n.num;var l=document.createElement("span");l.style.width="78%",l.style.borderRight="0px",l.innerHTML=n.text,r.appendChild(o),r.appendChild(l),a.push(r)}var s=scroolLoadComp.init(a,8);return e.appendChild(s),e}},drawComp={init:function(e,t){var a=[{title:"标注工具",sTitle:"取消标注",value:"marker",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABcElEQVR4AZWSA2ylURSE10awthmsbcRatI0aq3Ea1G6MRi+obdu2bdu2Ts88/ihPMj/ufHO9T1iXXSoPsPRZ0axB1or6HY12+EJeGLzMyr3t00CG2SNkkDtJn1In6X3yOD2P6ie0wwcnDR5nVT8N7SJF0zw5Nc7R57QpmeCDAy8M2zwIaCWjkhlyb5un90ljdMe3ia66VeNN7/gfYQgceGG46U38CBmXz9L39CkONAIwZ53C+7ZPozb8Jn6YwAvDq1ifBuARARxRe6euuFZpPebgrQnDPe8SR7XAXd8mzcgn8cZMNB5z8HqFYcWTkE4tgDXfVa8Z7/eCNYMDLwxf46kNv4obArCl3iSMEHNjzF+RHtfva+41q8JRhPrA533Ds3adub9bXRRTXAbh5kH4v+2tvCSO4LYK72eFPQhsFYXv+TUj6At/33bFwAlWgWYDHwW1I5imObodi8GzrOq7fk0IVuF/314KO8pKYJ3fitkALc6Dqqd/prcAAAAASUVORK5CYII="},{title:"画动态线",sTitle:"取消画线",value:"dynamicLine",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA10lEQVR42s3SMQsBYRzHcYNE1BkMN0jehM3uFVi4xSA2i0VkkRLKorwGk9F2k80iZcFCWcRwIZvzHZ7h6d9zm8FTn7q7b7+urgv9z3E2fhZbeCiLZmONJ2qm8Qi+chatozXPNC7CVxaiFfBRzTWNk7jihLhoMVxQh2Uad9HCCnnRGhgEfawEjkiigrnWItjDDho30VfXcdyRVvdVTIOGURyQ0p7N0EMYO2TkyIKDMSai5XDDDEvTG134SsnQPa0XZXxpsS22sg9lrOGNLeyAP+6hejb0q/MFHusAONrezFEAAAAASUVORK5CYII="},{title:"添加文字",sTitle:"取消添加文字",value:"text",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAsklEQVR4AWPABWIu/LcE4v9AbIVLDT7NG6CaN5CqUROI/4I0Q2ktUjTPAWtE4LnEapQE4p9A/AeIs0A0lC9JjOYuqG39UP5EKL+LkEZ+IH4PxI+BmBcqxgPED6HiAvg0l0BtCUIS4wXiaKh4KS6NbED8DKQIF4bKs2HTnARWQBgnoWtkAuKrIEwgTK5CMROyoD/U1AYCmuuh6vyRBY9ABbUIaNaCqjsKFkD3Ex69mGopAQAQ3AhcUBXFegAAAABJRU5ErkJggg=="},{title:"画箭头",sTitle:"取消画箭头",value:"arrowPolygon",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAaklEQVR4AWOgGYi58P8/LkyRARS5gFiNMUD8B1MzYY0JMI3oBhDSmArEf5E0xiJ7AZ/GTCD+B1IEpRPRwwCXxlw0jSnEBk4xWBNCYxaxGsvRQjSfWI01aBqLSEkEDUgaK2DipBpQx0AvAADQsNM8Yuz3HgAAAABJRU5ErkJggg=="},{title:"画多边形",sTitle:"取消画多边形",value:"polygon",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAmklEQVR4AWOgOoi58J8RiDuAeCsQq5CikRmI5wLxfyj+CcTtQMxDSCMnEG8Ea8LEz4A4EuQqbBoFgPgASCEBfASIDZE1SgDxBZAkkfgFsubzIEES8BZkzZNI1FyPrFkFiP+SoNkTPcA2kKBZFF2zA5Ea7+KK53NEaF6JS3McEZqLYOpZ0PSvAOJGKPsJFD8H4kcgGsq/TJUMBABfU4nUIZMyzQAAAABJRU5ErkJggg=="},{title:"画矩形",sTitle:"取消画矩形",value:"regularPolygon",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAmklEQVR4AWOgOoi58J8RiDuAeCsQq5CikRmI5wLxfyj+CcTtQMxDSCMnEG8Ea8LEz4A4EuQqbBoFgPgASCEBfASIDZE1SgDxBZAkkfgFsubzIEES8BZkzZNI1FyPrFkFiP+SoNkTPcA2kKBZFF2zA5Ea7+KK53NEaF6JS3McEZqLYOpZ0PSvAOJGKPsJFD8H4kcgGsq/TJUMBABfU4nUIZMyzQAAAABJRU5ErkJggg=="},{title:"画静态线",sTitle:"取消画线",value:"staticLine",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAu0lEQVR4Ac3MoQrCYBhG4QUFm0sKljWD2MQqVq/AaJUFgzdhsNpkQRDEbBJhRcSmCM4LELNgcTpQPeEPQ96ZN3hg3w7vrPQ87vFTxRR2Qm9hlDTe4govoZ8wV8FBhDbuolfwQEmNfSzN+w3uT1/BV8MiIjjm9nCO9bzpZTVeYBO7C3ijbu4JDmpoq79yB1gjixBNNZ5hJ7538MIQFzXM4Ykap+qh6V0VxwjMqfoeETIqDtD4M+6hb6Xq+QJq9rw22/ol4AAAAABJRU5ErkJggg=="}];drawComp.createLogo(a,e,t);return drawComp.createLogo(a,e,t)},createLogo:function(e,t,a){var i=(document.createElement("div"),document.createElement("div"));i.setAttribute("class","toolBar");var n=document.createElement("ul"),r=document.createDocumentFragment();for(var o in t){var l=t[o];for(var s in e){var c=e[s];if(c.value===l){var d=document.createElement("li");d.setAttribute("title",c.title),d.setAttribute("value",c.value),d.setAttribute("unSelectTitle",c.title),d.setAttribute("selectTitle",c.sTitle),d.setAttribute("status","");var u=document.createElement("div"),p=document.createElement("img");p.setAttribute("src",c.logo),u.appendChild(p),d.appendChild(u),r.appendChild(d)}}}return n.appendChild(r),n.onclick=function(e){e=T(e).getEventTarget();var t=e.nodeName,i=null;"IMG"===t?i=e.parentNode.parentNode:"DIV"===t?i=e.parentNode:"LI"===t&&(i=e);var n=this.childNodes;for(var r in n){var o=n[r];if("LI"===o.nodeName&&n[r].getAttribute("value")!==i.getAttribute("value")){var l=n[r].getAttribute("status");""!==l&&(n[r].setAttribute("status",""),n[r].style.background="")}}var s="",c="",d=i.getAttribute("unSelectTitle"),u=i.getAttribute("value");""===i.getAttribute("status")&&"undo"!==u&&"add"!==u&&"delete"!==u&&"save"!==u&&(s="selected",c="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAJ0lEQVR4AWNQN7D/TyvMACZoAEYNHzV81HAKwajho4aPGj5qOK0wAFbmizmDuR5+AAAAAElFTkSuQmCC) no-repeat 2px 3px",d=i.getAttribute("selectTitle")),i.setAttribute("status",s),i.setAttribute("title",d),i.style.background=c;var p={};return p.status=""===s?"unselected":"selected",p.value=i.getAttribute("value"),a?a(p):void 0},i.appendChild(n),i}},browerVComp={init:function(e){var t=document.createElement("div");t.setAttribute("class","version-box");var a=document.createElement("div");a.setAttribute("class","bvDivTitle-1");var i=document.createElement("span");i.innerHTML="版本推荐";var n=document.createElement("p");a.appendChild(i),a.appendChild(n),n.setAttribute("class","bvclose"),n.onclick=function(){return browerVComp.close(),e?e(!0):void 0};var r=document.createElement("div");r.setAttribute("class","version-con"),t.appendChild(a),t.appendChild(r);var o=document.createElement("div");o.setAttribute("class","vesion-left");var l=document.createElement("img");o.appendChild(l);var s=document.createElement("div");s.setAttribute("class","vesion-right");var c=document.createElement("div");c.setAttribute("class","clear"),r.appendChild(o),r.appendChild(s),r.appendChild(c);var d=document.createElement("p");d.setAttribute("class","version-title"),d.innerHTML="浏览器版本推荐";var u=document.createElement("div");u.setAttribute("class","version-option"),s.appendChild(d),s.appendChild(u);var p=document.createElement("ul");u.appendChild(p);var A=document.createElement("li");A.innerHTML="IE10及以上版本";var h=document.createElement("li");h.innerHTML="火狐38.0.1及以上版本";var m=document.createElement("li");m.innerHTML="谷歌42.0.2311.152及以上版本";var g=document.createElement("li");g.innerHTML="360安全浏览器7.1.1及以上版本";var y=document.createElement("li");y.innerHTML="360极速浏览器7.5.3.318及以上版本",p.appendChild(A),p.appendChild(h),p.appendChild(m),p.appendChild(g),p.appendChild(y),l.setAttribute("src","data:image/gif;base64,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"),document.body.appendChild(t),this.parentE=t},close:function(){"undefined"!=typeof this.parentE&&T(this.parentE).remove()}},effectAreaComp={init:function(e){var t=document.createElement("div");if(T(t).setClass("influenceArea marTpad"),"undefined"!=typeof e.title){var a=document.createElement("label");T(a).setClass("EAlabel marR10"),a.innerHTML=e.title,t.appendChild(a)}var i=document.createElement("div");T(i).setClass("influenceArea-box");var n=document.createElement("ul");T(n).setClass("influenceArea-box-ul");var r=e.list,o="";for(var l in r){var s=document.createElement("li");T(s).setClass("influenceArea-box-ul-li"),s.setAttribute("value",r[l].value),s.setAttribute("text",r[l].text),o+=r[l].value+",";var c=document.createElement("a");T(c).setClass("influenceArea-box-ul-li-a"),c.innerHTML=r[l].text;var d=document.createElement("i");T(d).setClass("influenceArea-box-ul-li-a-i"),d.setAttribute("value",r[l].value),d.innerHTML="x",c.appendChild(d),s.appendChild(c),n.appendChild(s)}T(n).click(function(e){var a=T(e).getEventTarget();if("I"===a.nodeName){var i=a.parentElement.parentElement;if("undefined"!=typeof i.attributes.value){var n=i.attributes.value.value,r=t.attributes.tempdatas.areaList;r=r.replace(n+",",""),t.attributes.tempdatas.areaList=r,T(i).remove()}}}),i.appendChild(n),t.appendChild(i);var u={areaList:o};return t.attributes.tempdatas=u,t}},infoCountComp={init:function(){var e=T().CDE("div");T(e).setClass("infoCount marTpad");var t=T().CDE("label");e.appendChild(t),T(t).setClass("infoCC-lable marR10"),t.innerHTML="统计分析：";var a=T().CDE("div");T(a).setClass("infoCC-box");var i=T().CDE("ul");T(i).setClass("infoCC-ul");var n=T().CDE("li");T(n).setClass("infoCC-ul-li"),n.innerHTML="责任人-";var r=T().CDE("span");r.style.color="red",n.appendChild(r);var o=T().CDE("li");T(o).setClass("infoCC-ul-li"),o.innerHTML="大喇叭-";var l=T().CDE("span");l.style.color="red",o.appendChild(l);var s=T().CDE("li");T(s).setClass("infoCC-ul-li"),s.innerHTML="LED显示屏-";var c=T().CDE("span");c.style.color="red",s.appendChild(c),i.appendChild(n),i.appendChild(o),i.appendChild(s),a.appendChild(i),e.appendChild(a);var d="http://127.0.0.1:8080/dss-data/poi/poi!getPoiCount.action";return $.getJSON(d,null,function(e){r.innerHTML=e.people,l.innerHTML=e.TFY,c.innerHTML=e.LED}),e}},targetMsgComp={init:function(e,t,a,i){function n(e){if(e.checked){var t=textAreaComp.init(e.text);T(t).appendTo(g),checkBoxComp.blindTo(t,e.value)}else"undefined"!=typeof e.blindComp&&T(e.blindComp).remove()}function r(e){var t={cite:"请选择种类",id:"kind",defaultCheck:"",list:""},a={typeCode:e.value};$.ajax({type:"GET",async:!1,data:a,url:"http://127.0.0.1:8080/dss-data/target/target!getDemagesKindByType.action",success:function(e){t.list=e}}),w&&T(w).remove(),t.list.length>0&&(w=selectComp.init("100",t),T(w).insertTo(p))}function o(e){if("reset"===e)loadTargetMsg();else{var t="";if(""===e.textareaLED显示屏&&(t="请填写LED显示屏消息内容"),""===e.textarea大喇叭&&(t="请填写大喇叭消息内容"),""===e.textarea短信&&(t="请填写短信消息内容"),""===e.areaList&&(t="影响区域不能为空"),"undefined"!=typeof e.selectkind&&""===e.selectkind.text&&(t="请选择灾害种类"),""===e.selecttype.text&&(t="请选择灾害类型"),"undefined"==typeof e.checkBox[0]&&(t="请选择消息渠道"),""===t){var a="",i="",n="",r="";"19000"===e.selecttype.value?(a="",r=""):(a=e.selectkind.value,r=e.selectkind.text),i=e.selecttype.value,n=e.selecttype.text;var o="http://127.0.0.1:8080/dss-data/target/target!sendMsg.action",l="",s="";for(var c in e.checkBox){var d=e.checkBox[c].text;l+=d+",","短信"===d?s+="短信:"+e.textarea短信+"|":"大喇叭"===d?s+="大喇叭:"+e.textarea大喇叭+"|":"LED显示屏"===d&&(s+="LED显示屏:"+e.textareaLED显示屏+"|")}s=encodeURI(s),l=encodeURI(l),n=encodeURI(n),
r=encodeURI(r);var u={areaCode:cityCode,msgWay:l,typeName:n,kindName:r,demageType:i,demageKind:a,demageLevel:e.radio.value,effectArea:e.areaList,wayContent:s};$.ajax({type:"GET",async:!1,data:u,url:o,success:function(e){targetTrackComp.initMin("trackMin",e),$("#msgMin").show(),$("#information_issuing").hide()}})}else v.innerHTML=t}}var l={title:"消息渠道：",defaultChecked:[],list:[{value:"1",text:"短信"},{value:"2",text:"大喇叭"},{value:"3",text:"LED显示屏"}]};if(t instanceof Array){var s=[];for(var c in l.list)-1!==t.indexOf(l.list[c].text)&&s.push(l.list[c].value);l.defaultChecked=s}var d=checkBoxComp.init(l,n);d.setAttribute("class","marTpad");var u={title:"灾害类型：",cite:"请选择类型",id:"type",defaultCheck:"",list:""};$.ajax({type:"GET",async:!1,url:"http://127.0.0.1:8080/dss-data/target/target!getDemagesType.action",success:function(e){u.list=e}});var p=selectComp.init("100",u,r),A={title:"灾害等级：",name:"warnLevel",defaultChecked:"6",list:[{value:"1",text:"红"},{value:"2",text:"橙"},{value:"3",text:"黄"},{value:"4",text:"蓝"},{value:"5",text:"白"},{value:"6",text:"其他"}]};if("string"==typeof a)for(var h in A.list)if(-1!==a.indexOf(A.list[h].text)){A.defaultChecked=A.list[h].value;break}var m=radioComp.init(A),g=effectAreaComp.init(i),y=document.createElement("div"),v=document.createElement("span");v.setAttribute("class","paddLR10 alarmColor"),v.style["float"]="left",v.innerHTML="",y.appendChild(v);var C={list:[{value:"reset",text:"重置"},{value:"send",text:"发送"}]},f=buttonComp.init(C,"tempTarget-btn");T(e).addComps([d,p,m,g,y,f],f,"send",o);var b=l.list;for(var x in b){var E=b[x].value;if(-1!==l.defaultChecked.indexOf(E)){var M=textAreaComp.init(b[x].text);checkBoxComp.blindTo(M,b[x].value),T(M).appendTo(g)}}var w=null}},targetTrackComp={initMin:function(e,t){var a="http://127.0.0.1:8080/dss-data/track/track!getTrackMsgById.action",i={idArray:t.toString()};$.ajax({type:"GET",async:!1,data:i,url:a,success:function(t){var a=[];for(var i in t)a.push(trackComp.init(t[i]));T(e).addComps(a)}})},initMax:function(e){function t(t){var a="";if(""===t.selectdemageType.text?a="请选择查询类型":""===t.selectdemageContent.text&&(a="请选择查询内容"),l.innerHTML=a,""===a){var i=t.selectdemageType.text,n=t.selectdemageContent.text,r="";"渠道"===i?r="receiver='"+n+"'":"灾害"===i?(-1!==n.indexOf("预警")&&(-1!==n.indexOf("红色")?n="1":-1!==n.indexOf("橙色")?n="2":-1!==n.indexOf("黄色")?n="3":-1!==n.indexOf("蓝色")?n="4":-1!==n.indexOf("白色")?n="5":-1!==n.indexOf("其他")&&(n="6")),r="kind_name='"+n+"' or type_name = '"+n+"' or warn_level = '"+n+"'"):"内容"===i&&(r="content like '%"+n+"%';");var o="http://127.0.0.1:8080/dss-data/track/track!getTrackMsgByFilter.action";r=encodeURI(r);var s={sql:r};$.getJSON(o,s,function(t){var a=[];for(var i in t)a.push(trackComp.init(t[i]));pagingComp.init(e,a,6)})}}function a(e){var t={cite:"请选择内容",id:"demageContent",defaultCheck:"",list:""},a=e.text;a=encodeURI(a);var i="http://127.0.0.1:8080/dss-data/target/target!getTypeByFilter.action",n={filter:a};$.getJSON(i,n,function(e){t.list=e,T().clearCompsById(["tragetKind"]);var a=selectComp.init("100",t);T("tragetKind").addComps([a])})}T().clearCompsById(["trackMax","tragetType","tragetKind","tragetChose"]);var i={cite:"请选择类型",id:"demageType",defaultCheck:"",list:[{value:"1",text:"渠道"},{value:"2",text:"灾害"},{value:"3",text:"内容"}]},n=selectComp.init("100",i,a);T("tragetType").addComps([n]);var r={list:[{value:"sure",text:"确定"}]},o=buttonComp.init(r,"msgTrack-btn");o.style["float"]="left",T("tragetChose").addComps([o]),T(["tragetType","tragetKind"]).getCompsDataById(o,t);var l=document.createElement("span");l.setAttribute("class","paddLR10 alarmColor"),l.style["float"]="left",l.style.marginTop="3px",l.innerHTML="",T(l).appendTo(o);var s="http://127.0.0.1:8080/dss-data/track/track!getAllTrackMsgByCode.action",c={areaCode:cityCode};$.ajax({type:"GET",data:c,url:s,success:function(t){var a=[];for(var i in t)a.push(trackComp.init(t[i]));pagingComp.init(e,a,6)}})},clearTrackInterval:function(){trackComp.clearTrackInterval()}},trackComp={init:function(e){var t=document.createElement("div");t.hidden=!0,t.setAttribute("class","inforTracking-box");var a=document.createElement("ul"),i=e.list,n={};for(var r in i){var o=document.createElement("li");o.innerHTML=i[r].text;var l=document.createElement("span");if(l.innerHTML=i[r].value,o.appendChild(l),"日期："===i[r].text){var s=document.createElement("span");s.setAttribute("class","floatR10"),s.style.color="red",o.appendChild(s),n[e.id]=t,t.belongsChild=s,s.attributes.msg=e.msg,s.attributes.msgId=e.id,s.attributes.status=e.status,this.compsRecord=T(this.compsRecord).compRecord(e.id,t)}a.appendChild(o)}"undefined"!=typeof this.intervals&&clearInterval(this.intervals);var c="http://127.0.0.1:8080/dss-data/track/track!getTrackMsgById.action",d=setInterval(function(){var e=[];for(var t in trackComp.compsRecord)if(!trackComp.compsRecord[t].hidden){var a=trackComp.compsRecord[t].belongsChild;"0"===a.attributes.status&&e.push(a.attributes.msgId)}var i={idArray:e.toString()};$.ajax({type:"GET",data:i,url:c,success:function(e){for(var t in trackComp.compsRecord)if(!trackComp.compsRecord[t].hidden){var a=trackComp.compsRecord[t].belongsChild;if("0"===a.attributes.status)for(var i in e)if(e[i].id===a.attributes.msgId){a.innerHTML=e[i].msg,a.attributes.status=e[i].status;break}}}})},5e3);return t.appendChild(a),this.intervals=d,t},initTrackStatus:function(e){for(var t in e)console.info(!e[t].hidden);trackComp.compsRecord=e},clearTrackInterval:function(){clearInterval(this.intervals)}};